<!DOCTYPE html>
<html lang = 'en'>

<head>
    <title>Superhrdinovia</title>

    <meta charset = 'utf-8'>
    <meta http-equiv = 'X-UA-Compatible' content = 'IE = edge'>
    <meta name = 'viewport' content = 'width = device-width, initial-scale = 1'>


    <!-- Bootstrap Core CSS -->
    <link rel='stylesheet' href='css/bootstrap.min.css' type='text/css'>

    <!-- Custom Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <link rel='stylesheet' href='font-awesome/css/font-awesome.min.css' type='text/css'>

    <!-- Plugin CSS -->
    <link rel='stylesheet' href='css/animate.min.css' type='text/css'>

    <!-- Custom CSS -->
    <link rel='stylesheet' href='css/creative.css' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

    <!--[if lt IE 9]>
    <![endif]-->
    <!-- jQuery -->
    <script src='js/jquery.js'></script>

    <!-- Bootstrap Core JavaScript -->
    <script src='js/bootstrap.min.js'></script>

    <!-- Plugin JavaScript -->
    <script src='js/jquery.easing.min.js'></script>
    <script src='js/jquery.fittext.js'></script>
    <script src='js/wow.min.js'></script>

    <script src='js/bootbox.min.js'></script>

    <!-- Custom Theme JavaScript -->
    <script src='js/creative.js'></script>

    <script>
        function test() {
            bootbox.confirm('Are you sure you want to end your test?', function(result) {
                if (result) {
                    window.scrollTo(0, 0);
                    $('#submitBtn').hide();
                    full = 166;
                    limit = 19;
                    total = 0;
                    total += testMultipleChoice('#question1');
                    total += testPairingAnswer('#question2');
                    total += testFreeAnswer('#question3');
                    total += testFreeAnswer('#question4');
                    total += testMultipleChoice('#question5');
                    total += testSingleChoice('#question6');
                    total += testFreeAnswer('#question7');
                    total += testFreeAnswer('#question8');
                    total += testSingleChoice('#question9');
                    total += testSingleChoice('#question10');

                    $('input').each(function (index, value) {
                        $(value).attr('disabled', true);
                    });
                    $('select').each(function (index, value) {
                        $(value).attr('disabled', true);
                    });

                    $('#information-info').hide();
                    if (total >= limit) {
                        $('#success-points').text(total + '/' + full);
                        $('#success-info').fadeIn();
                    } else {
                        $('#failure-points').text(total + '/' + full);
                        $('#failure-info').fadeIn();
                    }
                }
            });
        }

        function testMultipleChoice(id) {
            selected = $(id);
            possiblePoints = parseFloat($(selected).attr('points'));

            allCorrect = selectedCorrect = 0;

            selectedIncorrect = false;

            $('input', selected).each(function (index, value) {
                toBeSelected = $.parseJSON($(value).attr('correct'));

                if (toBeSelected) {
                    $(value).parent().parent().addClass('has-success');
                } else {
                    $(value).parent().parent().addClass('has-error');
                }

                checked = $(value).is(':checked');
                if (toBeSelected) {
                    allCorrect += 1; // increment all
                    if (checked) {
                        selectedCorrect+= 1; // increment points
                    }
                } else {
                    if (checked) {
                        selectedIncorrect = true;
                    }
                }
            });

            points = 0;
            if (!selectedIncorrect) {
                points = (selectedCorrect * possiblePoints) / allCorrect;
                points = (Math.round(points * 100) / 100);
            }
            $('.points', selected).text(points + '/' + possiblePoints);
            return points;
        }

        function testSingleChoice(id) {
            selected = $(id);
            possiblePoints = parseFloat($(selected).attr('points'));

            selectedCorrect = false;

            $('input', selected).each(function (index, value) {
                correct = $.parseJSON($(value).attr('correct'));
                if (correct) {
                    $(value).parent().parent().addClass('has-success');
                } else {
                    $(value).parent().parent().addClass('has-error');
                }
                if ($(value).is(':checked')) {
                    if (correct) {
                        selectedCorrect = true;
                    } else {
                        selectedCorrect = false;
                    }
                }
            });

            points = selectedCorrect ? possiblePoints : 0;
            points = (Math.round(points * 100) / 100);

            $('.points', selected).text(points + '/' + possiblePoints);

            return points;
        }

        function testFreeAnswer(id) {
            selected = $(id);
            possiblePoints = parseFloat($(selected).attr('points'));

            correctAnswer = $('input', selected).attr('correctAnswer');
            answer = $('input', selected).val();
            caseSensitive = $.parseJSON($('input', selected).attr('caseSensitive'));

            if (!caseSensitive) {
                answer = answer.toLocaleUpperCase();
                correctAnswer = correctAnswer.toLocaleUpperCase();
            }

            $('input', selected).parent().addClass((correctAnswer == answer) ? 'has-success' : 'has-error');

            points = (correctAnswer == answer) ? possiblePoints : 0;
            points = (Math.round(points * 100) / 100);
            $('.points', selected).text(points + '/' + possiblePoints);

            return points;
        }

        function testPairingAnswer(id) {
            selected = $(id);
            possiblePoints = parseFloat($(selected).attr('points'));

            allQuestions = correctMatches= 0;

            $('select', selected).each(function (index, value) {
                allQuestions += 1;
                selectedValue = $(value).val();
                correctValue = $(value).attr('correct');
                if (selectedValue == correctValue) {
                    correctMatches += 1;
                    $(value).parent().addClass('has-success');
                } else {
                    $(value).parent().addClass('has-error');
                }
            });

            points = (correctMatches * possiblePoints) / allQuestions;
            points = (Math.round(points * 100) / 100);
            $('.points', selected).text(points + '/' + possiblePoints);

            return points;
        }
    </script>

    <style>
        .slimFont {
            min-height: 20px;
            padding-left: 20px;
            margin-bottom: 0;
            font-weight: 400;
            cursor: pointer;
        }
        .questionHeader {
            padding: 10px;
            margin-bottom: 5px;
            border: 1px solid transparent;
            border-radius: 4px;

            background-color: #e0ebf0;
            border-color: #c6cfe9;
        }
    </style>
</head>

<body>
<div class = 'container'>
    <h1 class='text-center'>Superhrdinovia</h1>

    <div class='alert alert-success collapse' id='success-info'>
        <strong>Congratulations!</strong> You have passed with <strong id='success-points'></strong> points.
    </div>

    <div class='alert alert-danger collapse' id='failure-info'>
        <strong>Failure!</strong> You have failed with <strong id='failure-points'></strong> points (passing limit was at least 19 points).
    </div>

    <div class='alert alert-warning' id='information-info'>
        <strong>Be careful!</strong> You will need <strong>19</strong> of total 166 points to pass the test.
    </div>

        <div style='margin:25px 0 25px 0;'>
        <form class='form-horizontal questionHeader' role='form' id='question1' points='20'>
            <div class='form-group'>
                <label class='control-label col-sm-3'>Ktorí superhrdinovia patria k Avengers?</label>

                <div class='col-sm-8'>
                    <div class='checkbox'>
                        <label>
                            <input type='checkbox' correct='true'> Hulk
                        </label>
                    </div>

                    <div class='checkbox'>
                        <label>
                            <input type='checkbox' correct='true'> Ironman
                        </label>
                    </div>

                    <div class='checkbox'>
                        <label>
                            <input type='checkbox' correct='false'> Batman
                        </label>
                    </div>

                    <div class='checkbox'>
                        <label>
                            <input type='checkbox' correct='true'> Hulk1
                        </label>
                    </div>

                    <div class='checkbox'>
                        <label>
                            <input type='checkbox' correct='false'> Superman
                        </label>
                    </div>

                    <small class='text-muted'>Watch out, if you select an incorrect option, the whole question will be considered incorrect.</small>
                </div>

                <label class='control-label col-sm-1 points'>?/20</label>
            </div>
        </form>
    </div>
    <div style='margin:25px 0 25px 0;'>
        <form class='form-horizontal questionHeader' role='form' id='question2' points='25'>
            <div class='form-group'>
                <label class='control-label col-sm-3'>Spojte superhrdinov s ich úhlavnými nepriateľmi</label>
                <label class='col-sm-offset-8 control-label col-sm-1 points'>?/25</label>
            </div>

                        <div class='form-group'>
                <label class='col-sm-offset-3 control-label col-sm-3 slimFont'>Superman</label>
                <label class=' control-label col-sm-1' style='text-align: center;'>&#x21d0;&#x21d2;</label>

                <div class='col-sm-4'>
                    <select class='form-control' correct='Lex Luthor'>
                        <option value='Goblin'>Goblin</option>
                        <option value='Lex Luthor'>Lex Luthor</option>
                        <option value='Hydra'>Hydra</option>
                        <option value='Joker'>Joker</option>
                        <option value='Magneto'>Magneto</option>
                    </select>
                </div>
            </div>

            <div class='form-group'>
                <label class='col-sm-offset-3 control-label col-sm-3 slimFont'>Batman</label>
                <label class=' control-label col-sm-1' style='text-align: center;'>&#x21d0;&#x21d2;</label>

                <div class='col-sm-4'>
                    <select class='form-control' correct='Joker'>
                        <option value='Goblin'>Goblin</option>
                        <option value='Lex Luthor'>Lex Luthor</option>
                        <option value='Hydra'>Hydra</option>
                        <option value='Joker'>Joker</option>
                        <option value='Magneto'>Magneto</option>
                    </select>
                </div>
            </div>

            <div class='form-group'>
                <label class='col-sm-offset-3 control-label col-sm-3 slimFont'>Spiderman</label>
                <label class=' control-label col-sm-1' style='text-align: center;'>&#x21d0;&#x21d2;</label>

                <div class='col-sm-4'>
                    <select class='form-control' correct='Goblin'>
                        <option value='Goblin'>Goblin</option>
                        <option value='Lex Luthor'>Lex Luthor</option>
                        <option value='Hydra'>Hydra</option>
                        <option value='Joker'>Joker</option>
                        <option value='Magneto'>Magneto</option>
                    </select>
                </div>
            </div>

            <div class='form-group'>
                <label class='col-sm-offset-3 control-label col-sm-3 slimFont'>Kapitán Amerika</label>
                <label class=' control-label col-sm-1' style='text-align: center;'>&#x21d0;&#x21d2;</label>

                <div class='col-sm-4'>
                    <select class='form-control' correct='Hydra'>
                        <option value='Goblin'>Goblin</option>
                        <option value='Lex Luthor'>Lex Luthor</option>
                        <option value='Hydra'>Hydra</option>
                        <option value='Joker'>Joker</option>
                        <option value='Magneto'>Magneto</option>
                    </select>
                </div>
            </div>

            <div class='form-group'>
                <label class='col-sm-offset-3 control-label col-sm-3 slimFont'>Professor X</label>
                <label class=' control-label col-sm-1' style='text-align: center;'>&#x21d0;&#x21d2;</label>

                <div class='col-sm-4'>
                    <select class='form-control' correct='Magneto'>
                        <option value='Goblin'>Goblin</option>
                        <option value='Lex Luthor'>Lex Luthor</option>
                        <option value='Hydra'>Hydra</option>
                        <option value='Joker'>Joker</option>
                        <option value='Magneto'>Magneto</option>
                    </select>
                </div>
            </div>

        </form>
    </div>
    <div style='margin:25px 0 25px 0;'>
        <form class='form-horizontal questionHeader' role='form' id='question3' points='30'>
            <div class='form-group'>
                <label class='control-label col-sm-3'>Ktorý superhrdina už nemá rodičov?</label>

                <div class='col-sm-8'>
                    <input type='text' class='form-control' correctAnswer='Batman' caseSensitive='false'>
                    <small class='text-muted'>Question is not case sensitive.</small>
                </div>
                <label class='control-label col-sm-1 points'>?/30</label>
            </div>
        </form>
    </div>
    <div style='margin:25px 0 25px 0;'>
        <form class='form-horizontal questionHeader' role='form' id='question4' points='10'>
            <div class='form-group'>
                <label class='control-label col-sm-3'>Na akú horninu je alergický Superman?</label>

                <div class='col-sm-8'>
                    <input type='text' class='form-control' correctAnswer='Kryptonit' caseSensitive='false'>
                    <small class='text-muted'>Question is not case sensitive.</small>
                </div>
                <label class='control-label col-sm-1 points'>?/10</label>
            </div>
        </form>
    </div>
    <div style='margin:25px 0 25px 0;'>
        <form class='form-horizontal questionHeader' role='form' id='question5' points='15'>
            <div class='form-group'>
                <label class='control-label col-sm-3'>Ktorí z nasledujúcich hrdinov sú x-meni (mutanti)?</label>

                <div class='col-sm-8'>
                    <div class='checkbox'>
                        <label>
                            <input type='checkbox' correct='true'> Wolverine
                        </label>
                    </div>

                    <div class='checkbox'>
                        <label>
                            <input type='checkbox' correct='false'> Batman bin Superman
                        </label>
                    </div>

                    <div class='checkbox'>
                        <label>
                            <input type='checkbox' correct='false'> Pacho Hybský zbojník
                        </label>
                    </div>

                    <div class='checkbox'>
                        <label>
                            <input type='checkbox' correct='true'> Storm
                        </label>
                    </div>

                    <div class='checkbox'>
                        <label>
                            <input type='checkbox' correct='false'> Thor
                        </label>
                    </div>

                    <small class='text-muted'>Watch out, if you select an incorrect option, the whole question will be considered incorrect.</small>
                </div>

                <label class='control-label col-sm-1 points'>?/15</label>
            </div>
        </form>
    </div>
    <div style='margin:25px 0 25px 0;'>
        <form class='form-horizontal questionHeader' role='form' id='question6' points='15'>
            <div class='form-group'>
                <label class='control-label col-sm-3'>Ktorý z týchto superhrdinov je členom Justice League?</label>

                <div class='col-sm-8'>
                    <div class='radio'>
                        <label>
                            <input type='radio' name='question6optionsRadios' correct='false'>
                            Ironman
                        </label>
                    </div>

                    <div class='radio'>
                        <label>
                            <input type='radio' name='question6optionsRadios' correct='false'>
                            Čierna vdova
                        </label>
                    </div>

                    <div class='radio'>
                        <label>
                            <input type='radio' name='question6optionsRadios' correct='true'>
                            Batman
                        </label>
                    </div>

                    <div class='radio'>
                        <label>
                            <input type='radio' name='question6optionsRadios' correct='false'>
                            Hawkeye
                        </label>
                    </div>

                    <div class='radio'>
                        <label>
                            <input type='radio' name='question6optionsRadios' correct='false'>
                            Thor
                        </label>
                    </div>
                </div>

                <label class='control-label col-sm-1 points'>?/15</label>
            </div>
        </form>
    </div>
    <div style='margin:25px 0 25px 0;'>
        <form class='form-horizontal questionHeader' role='form' id='question7' points='10'>
            <div class='form-group'>
                <label class='control-label col-sm-3'>Kto je Batmanovým pomocníkom?</label>

                <div class='col-sm-8'>
                    <input type='text' class='form-control' correctAnswer='Robin' caseSensitive='false'>
                    <small class='text-muted'>Question is not case sensitive.</small>
                </div>
                <label class='control-label col-sm-1 points'>?/10</label>
            </div>
        </form>
    </div>
    <div style='margin:25px 0 25px 0;'>
        <form class='form-horizontal questionHeader' role='form' id='question8' points='1'>
            <div class='form-group'>
                <label class='control-label col-sm-3'>V akých novinách pracuje Clark Kent?</label>

                <div class='col-sm-8'>
                    <input type='text' class='form-control' correctAnswer='Daily Planet' caseSensitive='false'>
                    <small class='text-muted'>Question is not case sensitive.</small>
                </div>
                <label class='control-label col-sm-1 points'>?/1</label>
            </div>
        </form>
    </div>
    <div style='margin:25px 0 25px 0;'>
        <form class='form-horizontal questionHeader' role='form' id='question9' points='20'>
            <div class='form-group'>
                <label class='control-label col-sm-3'>Koľko filmov je s mutantmi (x-men)?</label>

                <div class='col-sm-8'>
                    <div class='radio'>
                        <label>
                            <input type='radio' name='question9optionsRadios' correct='false'>
                            6
                        </label>
                    </div>

                    <div class='radio'>
                        <label>
                            <input type='radio' name='question9optionsRadios' correct='false'>
                            7
                        </label>
                    </div>

                    <div class='radio'>
                        <label>
                            <input type='radio' name='question9optionsRadios' correct='true'>
                            8
                        </label>
                    </div>

                    <div class='radio'>
                        <label>
                            <input type='radio' name='question9optionsRadios' correct='false'>
                            9
                        </label>
                    </div>

                    <div class='radio'>
                        <label>
                            <input type='radio' name='question9optionsRadios' correct='false'>
                            10
                        </label>
                    </div>
                </div>

                <label class='control-label col-sm-1 points'>?/20</label>
            </div>
        </form>
    </div>
    <div style='margin:25px 0 25px 0;'>
        <form class='form-horizontal questionHeader' role='form' id='question10' points='20'>
            <div class='form-group'>
                <label class='control-label col-sm-3'>Je to sunka?</label>

                <div class='col-sm-8'>
                    <div class='radio'>
                        <label>
                            <input type='radio' name='question10optionsRadios' correct='true'>
                            ano
                        </label>
                    </div>

                    <div class='radio'>
                        <label>
                            <input type='radio' name='question10optionsRadios' correct='false'>
                            nie
                        </label>
                    </div>
                </div>

                <label class='control-label col-sm-1 points'>?/20</label>
            </div>
        </form>
    </div>

    <div style='margin:25px 0 25px 0;'>
        <form class='form-horizontal' role='form' points='10'>
            <div class='form-group'>
                <div class='col-sm-offset-5 col-sm-1'>
                    <button id='submitBtn' type='button' onclick='test()' class='btn btn-default'>Submit</button>
                </div>
            </div>
        </form>
    </div>
</div>
</body>
</html>